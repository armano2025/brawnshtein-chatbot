<!-- /index.html -->
<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>יוסטון – צ׳טבוט</title>

  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.light.css?v=1" />
  <meta name="theme-color" content="#5b7cfa" />

  <style>
    /* ===== תוספות קטנות לנראות הדף הראשי (נייטרלי ופשוט) ===== */
    :root{
      --radius:16px;
      --card-brd:#e6eaf3;
      --text:#0f172a;
      --muted:#6b7280;
      --surface: rgba(255,255,255,0.75);
      --shadow: 0 8px 24px rgba(15,23,42,0.08);
      --shadow-hover: 0 12px 36px rgba(15,23,42,0.12);
      --divider:#e9eef7;
    }
    @media (prefers-color-scheme: dark){
      :root{
        --surface: rgba(18,22,33,0.6);
        --card-brd:#2a3142;
        --text:#e5e7eb;
        --muted:#9ca3af;
        --divider:#2a3142;
      }
    }

    body{
      font-family:'Rubik', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      background:
        linear-gradient(180deg, #f8fafc 0%, #f4f7ff 60%, #f9fafb 100%);
      background-attachment: fixed;
      color: var(--text);
    }
    @media (prefers-color-scheme: dark){
      body{ background: linear-gradient(180deg, #0b1220 0%, #0e1424 60%, #0b1220 100%) }
    }

    .wrap{ padding: clamp(12px, 2.5vw, 24px) }
    .card{
      border:1px solid var(--card-brd);
      border-radius: clamp(16px, 2vw, 22px);
      box-shadow: var(--shadow);
      backdrop-filter: saturate(140%) blur(8px);
      background: var(--surface);
      overflow:hidden;
      max-width: 980px;
      margin: 0 auto;
    }

    .head{
      padding: clamp(16px, 2.4vw, 24px);
      border-bottom:1px solid var(--card-brd);
      display:flex; align-items:center; justify-content:space-between; gap:8px;
    }
    .brand{ display:flex; align-items:center; gap:12px }
    .logo{
      width:40px; height:40px; border-radius:12px;
      display:grid; place-items:center; font-weight:700;
      background: linear-gradient(135deg,#5b7cfa, #6be6b3);
      color:white; box-shadow: 0 6px 16px rgba(91,124,250,0.35);
    }
    .title{ font-weight:700; letter-spacing:0.2px }

    .body.chat-body{ padding: clamp(14px, 2.2vw, 22px); min-height: 40vh }
    #area{ overflow-y:auto; max-height:70vh; scroll-behavior:smooth }

    /* ——— הפרדה פשוטה וברורה בין קבוצות ——— */
    .section{ margin: 16px 0 }
    .section-title{
      display:flex; align-items:center; gap:10px;
      font-weight:700;
      margin: 4px 0 10px;
    }
    .section-title .hint{ color:var(--muted); font-weight:400; font-size:.95rem }
    .divider{
      height:1px; background: var(--divider);
      margin: 18px 0;
      opacity:.9;
    }

    /* ——— כפתורי־כרטיס נייטרליים ——— */
    .choices{
      display:grid; gap:12px; margin-top:8px;
      grid-template-columns: 1fr;
    }
    @media (min-width:560px){ .choices{ grid-template-columns: 1fr 1fr } }

    .btn.choice{
      display:flex; align-items:center; justify-content:space-between;
      text-align:start; gap:10px;
      padding: 14px 16px;
      border-radius: 14px;
      border:1px solid var(--card-brd);
      background: rgba(255,255,255,0.55);
      box-shadow: 0 2px 8px rgba(15,23,42,0.06);
      transition: transform .18s ease, box-shadow .18s ease, background .18s ease;
      font-weight:700;
    }
    @media (prefers-color-scheme: dark){
      .btn.choice{ background: rgba(18,22,33,0.5) }
    }
    .btn.choice:hover{ transform: translateY(-1px); box-shadow: var(--shadow-hover); background: rgba(255,255,255,0.7) }
    .btn.choice .emoji{ opacity:.9; font-size:20px }

    /* פוטר */
    .footer{
      padding: clamp(12px, 2vw, 16px);
      border-top:1px solid var(--card-brd);
      display:flex; align-items:center; gap:8px;
    }
    .footer .spacer{ flex:1 }

    @media (prefers-reduced-motion: reduce){
      .btn.choice{ transition:none }
      .btn.choice:hover{ transform:none }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">

      <!-- כותרת -->
      <div class="head">
        <div class="brand">
          <div class="logo">HB</div>
          <div class="title">יוסטון – צ׳טבוט</div>
        </div>
      </div>

      <!-- אזור התוכן -->
      <div class="body chat-body" id="area" role="log" aria-live="polite" aria-atomic="false"></div>

      <!-- תחתית -->
      <div class="footer">
        <button class="btn" onclick="location.reload()">ריענון</button>
        <a class="btn ghost" href="faq.html" target="_blank" rel="noopener">יש לי שאלות</a>
        <span class="spacer"></span>
      </div>

    </div>
  </div>

  <script>
    const area = document.getElementById('area');
    const autoscroll = ()=> area.scrollTop = area.scrollHeight;

    const bot = (html)=>{
      const d=document.createElement('div');
      d.className='bubble bot';
      d.innerHTML=html;
      area.appendChild(d);
      autoscroll();
      return d;
    };
    const user = (text)=>{
      const d=document.createElement('div');
      d.className='bubble user';
      d.textContent=text;
      area.appendChild(d);
      autoscroll();
      return d;
    };
    const typingThen = (html, delay=550)=>{
      const t=document.createElement('div');
      t.className='typing-indicator';
      t.innerHTML='<div class="typing-dot"></div><div class="typing-dot"></div><div class="typing-dot"></div>';
      area.appendChild(t); autoscroll();
      setTimeout(()=>{ t.remove(); bot(html); }, delay);
    };

    function renderHome(){
      // ——— מנויים ———
      const sec1 = document.createElement('div');
      sec1.className = 'section';
      sec1.innerHTML = `
        <div class="section-title">
          <span>🧑‍🎓 מנויים</span>
          <span class="hint">למי שכבר מנוי/ה</span>
        </div>
        <div class="choices" role="group" aria-label="מנויים">
          <button class="btn choice" id="btn-membership">
            <span>ברשותי מנוי חודשי</span>
            <span class="emoji">✅</span>
          </button>
        </div>
      `;

      // ——— מפריד ברור ———
      const divLine = document.createElement('div');
      divLine.className = 'divider';

      // ——— לא מנויים ———
      const sec2 = document.createElement('div');
      sec2.className = 'section';
      sec2.innerHTML = `
        <div class="section-title">
          <span>✨ לא מנויים</span>
          <span class="hint">בדיקת זמינות ושאלות לפני הצטרפות</span>
        </div>
        <div class="choices" role="group" aria-label="לא מנויים">
          <button class="btn choice" id="btn-oneoff">
            <span>אני רוצה שיעור חד־פעמי (על בסיס מקום פנוי)</span>
            <span class="emoji">📅</span>
          </button>
          <button class="btn choice" id="btn-plan-info">
            <span>אני רוצה פרטים על מנוי חודשי</span>
            <span class="emoji">ℹ️</span>
          </button>
        </div>
      `;

      area.appendChild(sec1);
      area.appendChild(divLine);
      area.appendChild(sec2);

      // קישורים
      document.getElementById('btn-membership').onclick = ()=>{
        user('ברשותי מנוי חודשי');
        setTimeout(()=> location.href='branches/branch3/index.html', 150);
      };
      document.getElementById('btn-oneoff').onclick = ()=>{
        user('אני רוצה שיעור חד־פעמי (על בסיס מקום פנוי)');
        setTimeout(()=> location.href='branches/branch1/boost.html', 150);
      };
      document.getElementById('btn-plan-info').onclick = ()=>{
        user('אני רוצה פרטים על מנוי חודשי');
        setTimeout(()=> location.href='branches/branch2.html', 150);
      };
    }

    function start(){
      area.innerHTML = '';
      typingThen('<strong>היי, אני יוסטון 👨‍🚀</strong><br>העוזר הדיגיטלי של מרכז בראונשטיין 📚', 480);
      setTimeout(()=> typingThen('<strong>במה אוכל לעזור?</strong>', 420), 780);
      setTimeout(renderHome, 1300);
    }

    start();
  </script>
</body>
</html>